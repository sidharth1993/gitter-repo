(this.webpackJsonpgitter=this.webpackJsonpgitter||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),o=n.n(r),i=(n(110),n(35)),l=(n(111),n(60)),s=n(10),j=n(13),d=n(52),u=n.n(d),b=null,h=null,p="https://api.github.com",m=function(e){return u.a.get(e,{headers:{Authorization:"token ".concat(b)}}).then((function(e){return e.data})).catch((function(e){return e}))},O=function(e,t){return u.a.post(e,t,{headers:{Authorization:"token ".concat(b)}}).then((function(e){return e.data})).catch((function(e){return e}))},g=function(e,t){return u.a.post(e,t,{headers:{Authorization:"token ".concat(b)}}).then((function(e){return e.data})).catch((function(e){return e}))},x=n(183),f=n(48),v=n(186),_=n(202),C=n(180),w=n(3),k=function(e){var t=e.bc,n=e.setCurrentPage;return Object(w.jsx)(_.a,{"aria-label":"breadcrumb",children:t&&t.length>0&&t.map((function(e,t){return Object(w.jsx)(C.a,{color:"inherit",onClick:function(){n(e)},children:e},t)}))})},y=n(69),R=n.n(y),D=n(91),B=n.n(D),z=n(181),N=n(182),F=n(185),S=n(184),E=function(e){var t=e.objectArray,n=e.openSomething,a=e.rightClickItem;return Object(w.jsx)(z.a,{dense:!0,children:t&&t.length>0&&t.map((function(e,t){return Object(w.jsxs)(N.a,{children:[Object(w.jsx)(x.a,{item:!0,xs:4,md:4,children:Object(w.jsx)(S.a,{onDoubleClick:function(){var t;t=e.name,n(t)},primary:Object(w.jsx)(F.a,{onContextMenu:function(t){a(t,e.id)},children:e.type&&"file"===e.type?Object(w.jsx)(B.a,{}):Object(w.jsx)(R.a,{})}),secondary:e.name})}),Object(w.jsx)(x.a,{item:!0,xs:4,md:4,children:e.created_at&&Object(w.jsx)(S.a,{primary:e.created_at,secondary:"created on"})}),Object(w.jsx)(x.a,{item:!0,xs:4,md:4,children:e.created_at&&Object(w.jsx)(S.a,{primary:e.updated_at,secondary:"updated on"})})]},t)}))})},P=function(e){return e.stopPropagation(),e.preventDefault(),{X:e.clientX,Y:e.clientY}},A=n(205),G=n(187),q=Object(v.a)((function(e){return{typography:{padding:e.spacing(2)},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function I(e){var t=e.element,n=e.contents,a=e.closing,c=e.optionSelected,r=q();return Object(w.jsx)("div",{children:t&&Object(w.jsx)(A.a,{id:"simple-popover",open:!0,anchorReference:"anchorPosition",anchorPosition:{top:t.Y,left:t.X},anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:a,transformOrigin:{vertical:"top",horizontal:"center"},children:Object(w.jsx)("div",{className:r.root,children:Object(w.jsx)(z.a,{component:"nav","aria-label":"secondary mailbox folders",children:n&&n.map((function(e,t){return Object(w.jsxs)("span",{children:[Object(w.jsx)(N.a,{button:!0,onClick:function(){c(e)},children:Object(w.jsx)(S.a,{primary:e})}),t+1!==n.length&&Object(w.jsx)(G.a,{})]},t)}))})})})})}var L=n(49),U=n(203),M=n(196),T=n(189),X=n(188),Y=n(192),H=n(193),J=n(195),W=n(194),K=n(206),Q=n(199),V=n(200),Z=n(191),$=n(190),ee=n(92),te=n.n(ee),ne=Object(v.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ae=!1;function ce(e){var t=e.repo,n=e.closeDialog,r=e.updateRepoObj,o=ne();ae=Boolean(t.name);var l=t.name,s=c.a.useState({has_downloads:t.has_downloads||!1,has_issues:t.has_issues||!1,default_branch:t.default_branch||"master",description:t.description,disabled:t.disabled||!1,archived:t.archived||!1,private:t.private||!1,name:t.name,homepage:t.homepage,allow_squash_merge:t.allow_squash_merge||!1,allow_merge_commit:t.allow_merge_commit||!1,allow_rebase_merge:t.allow_rebase_merge||!1,delete_branch_on_merge:t.delete_branch_on_merge||!1,is_template:t.is_template||!1}),d=Object(i.a)(s,2),u=d[0],b=d[1],m=Object(a.useState)(null),x=Object(i.a)(m,2),f=x[0],v=x[1],_=function(e){b(Object(j.a)(Object(j.a)({},u),{},Object(L.a)({},e.target.name,e.target.checked)))},k=function(e){b(Object(j.a)(Object(j.a)({},u),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(w.jsx)("div",{children:Object(w.jsxs)(U.a,{open:!0,onClose:n,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(w.jsx)(X.a,{id:"scroll-dialog-title",children:ae?u.name:"New Repo"}),Object(w.jsxs)(T.a,{dividers:!0,children:[f&&Object(w.jsx)("div",{className:o.root,children:Object(w.jsx)($.a,{in:Boolean(f),children:Object(w.jsxs)(V.a,{action:Object(w.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){v(null)},children:Object(w.jsx)(te.a,{fontSize:"inherit"})}),children:[f," successfully!"]})})}),Object(w.jsxs)(Y.a,{component:"fieldset",children:[Object(w.jsxs)(H.a,{children:[Object(w.jsx)(Q.a,{name:"name",value:u.name,onChange:k,label:"Name",id:"standard-size-small",placeholder:"gitter-repo",size:"small"}),Object(w.jsx)(Q.a,{name:"homepage",value:u.homepage,onChange:k,label:"Homepage",id:"standard-size-small",placeholder:"http://localhost:3000",size:"small"}),Object(w.jsx)(Q.a,{name:"description",value:u.description,onChange:k,label:"Description",id:"standard-size-small",placeholder:"Repo created on gitter",size:"small",multiline:!0}),Object(w.jsx)(Q.a,{name:"default_branch",value:u.default_branch,onChange:k,label:"Default Branch",id:"standard-size-small",size:"small"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.private,onChange:_,name:"private"}),label:"Private repo?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.archived,onChange:_,name:"archived"}),label:"Archived repo?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.disabled,onChange:_,name:"disabled"}),label:"Disabled repo?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.has_issues,onChange:_,name:"has_issues"}),label:"Repo issues?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.has_downloads,onChange:_,name:"has_downloads"}),label:"Downloadable?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.allow_squash_merge,onChange:_,name:"allow_squash_merge"}),label:"Can squash merge?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.allow_merge_commit,onChange:_,name:"allow_merge_commit"}),label:"Can merge commit?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.allow_rebase_merge,onChange:_,name:"allow_rebase_merge"}),label:"Can rebase merge?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.delete_branch_on_merge,onChange:_,name:"delete_branch_on_merge"}),label:"Delete original branch on merge?"}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{checked:u.is_template,onChange:_,name:"is_template"}),label:"Use as template to create repos in future?"})]}),Object(w.jsx)(W.a,{children:"Archived repo can only be unarchived on https://github.com "})]})]}),Object(w.jsx)(M.a,{children:ae?Object(w.jsx)(C.a,{onClick:function(){(function(e,t){return g("".concat(p,"/repos/").concat(h.login,"/").concat(e),t).then((function(e){return e}))})(l,u).then((function(e){e&&e.name&&e.name===u.name&&(ae=!0,r(e),v("Updated"))}))},color:"primary",children:"Edit"}):Object(w.jsx)(C.a,{onClick:function(){var e;(e=u,O("".concat(p,"/user/repos"),e).then((function(e){return e}))).then((function(e){e&&e.name&&e.name===u.name&&(ae=!0,r(e),v("Created"))}))},color:"primary",children:"Create"})})]})})}var re={},oe=null,ie=[],le={},se=Object(v.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)}}})),je={current:null,bc:[],array:[]},de={rcElement:null,openRepoDialog:!1},ue=function(e){var t=e.userDetails,n=new URLSearchParams(Object(s.f)().search),c=se(),r=Object(a.useState)(je),o=Object(i.a)(r,2),l=o[0],d=o[1],O=Object(a.useState)(de),g=Object(i.a)(O,2),v=g[0],_=g[1];Object(a.useEffect)((function(){var e=n.get("code");e&&function(e){var t=new FormData;return t.append("client_id","d9ac0753dcb7cfae87de"),t.append("client_secret","177c3bb99b418a80a1bc1f32bc9ec5e885e6f95e"),t.append("code",e),t.append("redirect_uri","https://sidharth1993.github.io/gitter-repo/callback"),u.a.post("login/oauth/access_token",t).then((function(e){var t=new URLSearchParams(e.data).get("access_token");return b=t,"success"}))}(e).then((function(e){"success"===e&&m("".concat(p,"/user")).then((function(e){return e.login&&(h=e),e})).then((function(e){e.login&&(t({login:e.login,avatar:e.avatar_url}),m("".concat(h.repos_url)).then((function(e){return e})).then((function(e){re.Repos=e,d({current:"Repos",bc:["Repos"],array:e})})))}))}))}),[]);return Object(w.jsxs)("div",{onContextMenu:function(e){"Repos"===l.current?ie=["New Repo"]:"Branches"===l.current?ie=["New Branch"]:"Files"===l.current&&(ie=["New File"]);var t=P(e);_(Object(j.a)(Object(j.a)({},v),{},{rcElement:t}))},children:[Object(w.jsx)(I,{element:v.rcElement,contents:ie,closing:function(){_(Object(j.a)(Object(j.a)({},v),{},{rcElement:null}))},optionSelected:function(e){"Repos"===l.current&&("Get/Edit details"===e?_(Object(j.a)(Object(j.a)({},v),{},{openRepoDialog:!0,rcElement:null})):("New Repo"===e||"Delete Repo"===e)&&(le={},_(Object(j.a)(Object(j.a)({},v),{},{openRepoDialog:!0,rcElement:null}))))}}),v.openRepoDialog&&Object(w.jsx)(ce,{repo:le,closeDialog:function(){_(Object(j.a)(Object(j.a)({},v),{},{openRepoDialog:!1}))},updateRepoObj:function(e){var t=l.array;t.findIndex((function(t){return t.id===e.id}))>=0?t=t.map((function(t){return t.id===e.id?e:t})):t.push(e),d(Object(j.a)(Object(j.a)({},l),{},{array:t}))}}),Object(w.jsxs)(x.a,{item:!0,xs:12,md:12,children:[Object(w.jsx)(f.a,{variant:"h4",className:c.title,children:l&&l.bc&&Object(w.jsx)(k,{bc:l.bc,setCurrentPage:function(e){"Repos"===e?(re.Branches=null,d({current:e,bc:["Repos"],array:re[e]})):"Branches"===e&&(re.Files=null,d({current:e,bc:["Repos","Branches"],array:re[e]}))}})}),Object(w.jsx)("div",{className:c.demo,children:Object(w.jsx)(E,{objectArray:l.array,openSomething:function(e){var t;"Repos"===l.current?(oe=e,(t=e,m("".concat(p,"/repos/").concat(h.login,"/").concat(t,"/branches")).then((function(e){return e}))).then((function(e){re.Branches=e,d({current:"Branches",bc:["Repos","Branches"],array:e})}))):"Branches"===l.current&&function(e){return m("".concat(p,"/repos/").concat(h.login,"/").concat(e,"/contents")).then((function(e){return e}))}(oe).then((function(e){re.Files=e,d({current:"Files",bc:["Repos","Branches","Files"],array:e})}))},rightClickItem:function(e,t){"Repos"===l.current?(le=l.array.find((function(e){return e.id===t})),ie=["Delete Repo","Get/Edit details"]):"Branches"===l.current?ie=["Delete Branch","Branch History"]:"Files"===l.current&&(ie=["Download File"]);var n=P(e);_(Object(j.a)(Object(j.a)({},v),{},{rcElement:n}))}})})]})]})},be=function(){return Object(w.jsx)("div",{})},he=n(197),pe=n(198),me=n(204),Oe=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},avatar:{display:"flex","& > *":{margin:e.spacing(1)}}}}));var ge=function(e){var t=e.user,n=Oe();return Object(w.jsx)("header",{children:Object(w.jsx)("div",{className:n.root,children:Object(w.jsx)(he.a,{position:"static",children:Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(f.a,{variant:"h6",className:n.title,children:Object(w.jsx)(l.b,{to:"/",children:"Gitter"})}),t?Object(w.jsx)("div",{className:n.avatar,children:Object(w.jsx)(me.a,{alt:"".concat(t.login," avatar"),src:t.avatar})}):Object(w.jsx)("div",{children:Object(w.jsxs)(f.a,{variant:"h6",className:n.title,children:["github.com /",Object(w.jsx)(C.a,{color:"inherit",onClick:function(){window.location.href="https://github.com/login/oauth/authorize?scope=user,repo,delete_repo&client_id=d9ac0753dcb7cfae87de&redirect_uri=https://sidharth1993.github.io/gitter-repo/callback"},children:"authorize"})]})})]})})})})};var xe=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(l.a,{children:[Object(w.jsx)(ge,{user:n}),Object(w.jsx)("section",{children:Object(w.jsxs)(s.c,{children:[Object(w.jsx)(s.a,{path:"/login",children:Object(w.jsx)(be,{})}),Object(w.jsx)(s.a,{path:"/callback",children:Object(w.jsx)(ue,{userDetails:function(e){c(e)}})})]})}),Object(w.jsx)(he.a,{position:"static",children:Object(w.jsx)(pe.a,{children:Object(w.jsx)(f.a,{variant:"h6",children:"Footer"})})})]})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(xe,{})}),document.getElementById("root")),fe()}},[[137,1,2]]]);
//# sourceMappingURL=main.8ede6867.chunk.js.map